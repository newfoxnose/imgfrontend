import{_,d as h,r as s,o as w,c as g,a as t,w as n,F,b,e as k,f as m}from"./index-dbff6c52.js";$cookies.get("login")=="yes"&&(window.location.href="/user");const S=h({setup(){return{formState:b({email:"",password:"",remember:!0}),onFinish:i=>{console.log("Success:",i)},onFinishFailed:i=>{console.log("Failed:",i)}}},methods:{getList(e){let a=new URLSearchParams;a.append("email",e.email),a.append("password",e.password),this.$http.post("/ajax/login_ajax",a).then(o=>{o.data.msg=="登入成功"&&($cookies.set("teacher_id",o.data.data.teacher_id,"720h"),$cookies.set("login",o.data.data.login,"720h"),$cookies.set("level",o.data.data.level,"720h"),window.location.href="/user"),console.log(o.data)}).catch(o=>{console.log(o)})}}}),v=k("div",{style:{"margin-top":"15px"}},null,-1);function $(e,a,o,i,y,L){const d=s("a-input"),r=s("a-form-item"),p=s("a-input-password"),c=s("a-checkbox"),u=s("a-button"),f=s("a-form");return w(),g(F,null,[v,t(f,{model:e.formState,name:"basic","label-col":{span:8},"wrapper-col":{span:16},autocomplete:"off",onFinish:e.getList,onFinishFailed:e.onFinishFailed},{default:n(()=>[t(r,{label:"邮箱",name:"email",rules:[{type:"email",required:!0,message:"请输入有效邮箱地址"}]},{default:n(()=>[t(d,{value:e.formState.email,"onUpdate:value":a[0]||(a[0]=l=>e.formState.email=l)},null,8,["value"])]),_:1}),t(r,{label:"密码",name:"password",rules:[{required:!0,message:"请输入密码"}]},{default:n(()=>[t(p,{value:e.formState.password,"onUpdate:value":a[1]||(a[1]=l=>e.formState.password=l)},null,8,["value"])]),_:1}),t(r,{name:"记住","wrapper-col":{offset:8,span:16}},{default:n(()=>[t(c,{checked:e.formState.remember,"onUpdate:checked":a[2]||(a[2]=l=>e.formState.remember=l)},{default:n(()=>[m("记住我")]),_:1},8,["checked"])]),_:1}),t(r,{"wrapper-col":{offset:8,span:16}},{default:n(()=>[t(u,{type:"primary","html-type":"submit"},{default:n(()=>[m("登入")]),_:1})]),_:1})]),_:1},8,["model","onFinish","onFinishFailed"])],64)}const V=_(S,[["render",$]]);export{V as default};
