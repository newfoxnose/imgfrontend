import{_ as I,d as y,r as d,o as i,c as u,l as C,v as L,f as h,a as _,w as k,F as v,b as s,u as S,k as b,n as $,h as x,p as R,g as U,q as V,s as j}from"./index-a30e8698.js";const B=y({setup(){const a=s(!1);S();const{proxy:r}=x(),t=s(5),g=s(!1),m=s([]),f=s(1),c=s([]);b(()=>{let n=new URLSearchParams;n.append("token",$cookies.get("token")),n.append("timestamp",new Date().getTime()),r.$http.post("/ajax/get_folder_ajax/",n).then(o=>{o.data.code=="401"&&(window.location.href="/login"),m.value=o.data.data.data}),p()});const p=n=>{const o=setInterval(()=>{const e=t.value+Math.round(Math.random()*7+2);t.value=e>95?95:e,t.value>90&&clearInterval(o)},100);let l=new URLSearchParams;l.append("token",$cookies.get("token")),l.append("timestamp",new Date().getTime()),r.$http.post("/ajax/home_page_ajax/"+f.value,l).then(e=>{console.log(e.data),c.value=e.data.data.images,t.value=100,g.value=!0})};return{folder_list:m,items:c,defaultPercent:t,iconLoading:a,loadingdone:g,currentpage:f,handlepagechange:p}}}),P=a=>(V("data-v-a7d525df"),a=a(),j(),a),D={class:"loadingbar"},M=["id","folder_id","title","is_private","is_recommend"],N=P(()=>h("br",null,null,-1));function T(a,r,t,g,m,f){const c=d("a-progress"),p=d("a-image"),n=d("RouterLink"),o=d("a-image-preview-group"),l=d("a-pagination");return i(),u(v,null,[C(h("div",D,[_(c,{type:"circle",percent:a.defaultPercent,status:"active","show-info":!1,"stroke-color":{"0%":"#108ee9","100%":"#87d068"}},null,8,["percent"])],512),[[L,a.loadingdone==!1]]),_(o,null,{default:k(()=>[(i(!0),u(v,null,$(a.items,e=>(i(),u("div",{key:e.label,id:e.id,folder_id:e.folder_id,title:e.title,is_private:e.is_private,is_recommend:e.is_recommend,class:"img-div"},[h("p",null,[(i(!0),u(v,null,$(e.qiniu_img_arr,w=>(i(),R(p,{key:w.label,width:200,src:w},null,8,["src"]))),128)),N,_(n,{to:/editpost/+e.id},{default:k(()=>[U("编辑")]),_:2},1032,["to"])])],8,M))),128))]),_:1}),_(l,{current:a.currentpage,"onUpdate:current":r[0]||(r[0]=e=>a.currentpage=e),total:50,onChange:a.handlepagechange,"show-less-items":""},null,8,["current","onChange"])],64)}const F=I(B,[["render",T],["__scopeId","data-v-a7d525df"]]);export{F as default};
